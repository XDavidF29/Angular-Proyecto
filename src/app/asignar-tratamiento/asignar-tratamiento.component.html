<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <title>Asignar Tratamiento</title>
</head>
<body>

    <main>
        <div *ngIf="mascota" class="contenido" id="contenido">
            <h2 class="text-center">Asignar tratamiento a {{ mascota.nombre }}</h2>

            <form (ngSubmit)="agregarTratamiento()" #formTratamiento="ngForm">
                <div class="form-group mb-3">
                    <label for="veterinario" class="form-label">Seleccionar Veterinario:</label>
                    <select id="veterinario" [(ngModel)]="veterinarioSeleccionado" name="veterinario" class="form-control" required>
                        <option *ngFor="let veterinario of veterinariosDisponibles" [ngValue]="veterinario">
                            {{ veterinario.nombre }}
                        </option>
                    </select>
                </div>

                <div class="form-group mb-3">
                    <label for="medicamentos" class="form-label">Seleccionar Medicamento:</label>

                      <select id="medicamentos" [(ngModel)]="medicamentoSeleccionado" name="medicamento" class="form-control" required>
                          <option *ngFor="let medicamento of medicamentosDisponibles" [ngValue]="medicamento">
                              {{ medicamento.nombre }}
                          </option>
                      </select>
                      <button type="button" class="btn btn-secondary mt-2 w-100" (click)="agregarMedicamento()">Agregar</button>

                </div>

                <div>
                  <h3>Medicamentos Seleccionados:</h3>
                  <ul class="list-unstyled"> <!-- Clase para eliminar el estilo de lista por defecto -->
                      <li *ngFor="let medicamento of medicamentosSeleccionados; let i = index" class="d-flex justify-content-between align-items-center mb-2">
                          {{ medicamento.nombre }}
                          <button type="button" (click)="eliminarMedicamento(i)" class="btn btn-danger btn-sm">
                              <i class="bi bi-trash"></i> <!-- Icono de borrar de Bootstrap Icons -->
                          </button>
                      </li>
                  </ul>
                </div>

                <div class="form-group mb-3">
                  <label for="fecha" class="form-label">Fecha del Tratamiento:</label>
                  <label id="fecha"  name="fecha" class="form-control">{{tratamiento.fecha}}</label>
                </div>

                <div class="form-group mb-3">
                    <label for="precio" class="form-label">Precio del Tratamiento:</label>
                    <input type="number" id="precio" [(ngModel)]="tratamiento.precio" name="precio" class="form-control" required>
                </div>

                <button type="submit" class="btn btn-primary w-100">Asignar Tratamiento</button>
            </form>
        </div>        
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

</body>
</html>
